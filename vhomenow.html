<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>V Home Now</title><style>
:root{--bg:#eef1f6;--fg:#111;--wbg:#fff;--accent:#4a6cf7}
*{box-sizing:border-box;margin:0;padding:0}
body{margin:0;font-family:Inter,Arial,sans-serif;background:var(--bg);color:var(--fg);overflow:hidden}
.theme-red{--bg:#ffe5e5;--wbg:#fff}.theme-orange{--bg:#ffeede;--wbg:#fff}.theme-yellow{--bg:#fff9d6;--wbg:#fff}
.theme-green{--bg:#e5ffe9;--wbg:#fff}.theme-blue{--bg:#e3f0ff;--wbg:#fff}.theme-indigo{--bg:#e6e6ff;--wbg:#fff}
.theme-violet{--bg:#f3e6ff;--wbg:#fff}
#settings{position:fixed;top:0;left:0;height:100vh;width:clamp(260px,28vw,360px);background:#fff;box-shadow:4px 0 12px rgba(0,0,0,.15);padding:16px;overflow-y:auto;z-index:9;transition:transform .3s}
#settings.hidden{transform:translateX(-100%)}
#gear{position:fixed;top:12px;left:12px;width:44px;height:44px;border-radius:50%;background:var(--accent);color:#fff;display:flex;align-items:center;justify-content:center;font-size:22px;cursor:pointer;z-index:10;box-shadow:0 4px 10px rgba(0,0,0,.25)}
#dash{position:absolute;top:0;left:0;width:100%;height:100%;padding-left:clamp(260px,28vw,360px);transition:padding-left .3s}
#settings.hidden+#dash{padding-left:0}
h2,h3,label,select,input,button{font-size:14px}
h2{margin-bottom:8px}
h3{margin:12px 0 6px}
select,input[type=checkbox]{margin:4px 0}
button{cursor:pointer}
.widget{position:absolute;width:260px;min-height:130px;background:var(--wbg);border-radius:12px;padding:10px;box-shadow:0 4px 12px rgba(0,0,0,.15);cursor:grab;user-select:none}
.widget:active{cursor:grabbing}
.widget-title{font-size:13px;font-weight:600;margin-bottom:6px}
.resize{position:absolute;right:4px;bottom:4px;width:14px;height:14px;border-radius:4px;background:var(--accent);cursor:se-resize}
.time-body{display:flex;flex-direction:column;gap:4px}
.time-main{font-size:26px;font-weight:700}
.time-sub{font-size:13px;color:#555}
.cal-body, .news-body, .tasks-body, .ai-body{font-size:13px}
.tasks-list{margin-top:4px;max-height:160px;overflow-y:auto}
.tasks-list div{display:flex;align-items:center;gap:4px;margin-bottom:2px}
.tasks-list input[type=text]{width:100%;padding:3px 4px;font-size:12px}
.tasks-add{display:flex;gap:4px;margin-top:4px}
.tasks-add button{padding:3px 6px;font-size:12px;background:var(--accent);color:#fff;border:none;border-radius:4px}
.news-body{max-height:200px;overflow-y:auto}
.news-item{margin-bottom:6px;border-bottom:1px solid #e0e3ee;padding-bottom:4px}
.news-item a{text-decoration:none;color:#1a3ea5;font-size:13px}
.news-item a:hover{text-decoration:underline}
.news-meta{font-size:11px;color:#666}
.ai-body{max-height:200px;overflow-y:auto}
.ai-tip{margin-bottom:6px;padding:6px;border-radius:6px;background:#f2f3ff;font-size:12px}
.iframe-body, .android-body{width:100%;height:100%}
.iframe-body iframe,.android-body iframe{width:100%;height:100%;border:none;border-radius:8px}
#iframeList{font-size:12px;margin-top:6px}
#iframeList div{display:flex;align-items:center;justify-content:space-between;gap:4px;margin-bottom:4px}
#iframeList span{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
#iframeList button{font-size:11px;padding:2px 4px}
#saveBtn{margin-top:10px;padding:6px 10px;border:none;border-radius:6px;background:var(--accent);color:#fff;font-weight:600}
</style></head><body>
<div id="settings">
  <h2>V Home Now</h2>
  <label>Theme:</label>
  <select id="themeSel">
    <option value="red">Red</option><option value="orange">Orange</option><option value="yellow">Yellow</option>
    <option value="green">Green</option><option value="blue">Blue</option><option value="indigo">Indigo</option><option value="violet">Violet</option>
  </select><br><br>
  <label>Font:</label>
  <select id="fontSel">
    <option value="Inter">Inter</option><option value="Arial">Arial</option><option value="Comic Sans MS">Comic Sans (Kids)</option>
  </select>
  <h3>Widgets</h3>
  <label><input type="checkbox" id="wTime"> Time</label><br>
  <label><input type="checkbox" id="wCal"> Calendar</label><br>
  <label><input type="checkbox" id="wNews"> News</label><br>
  <label><input type="checkbox" id="wTasks"> Tasks</label><br>
  <label><input type="checkbox" id="wAi"> AI Tips</label><br>
  <label><input type="checkbox" id="wAndroid"> Android Emulator</label>
  <h3>iFrames</h3>
  <button id="addIframe">Add iFrame</button>
  <div id="iframeList"></div>
  <br>
  <label><input type="checkbox" id="kidsMode"> Kids Mode (disable AI tips)</label>
  <button id="saveBtn">Save</button>
</div>
<div id="gear">⚙️</div>
<div id="dash"></div>
<script>
let S=JSON.parse(localStorage.getItem("vHomeSettings"))||{theme:"blue",font:"Inter",widgets:{},iframes:[],kidsMode:0},
P=JSON.parse(localStorage.getItem("vHomeWidgetPositions"))||{},
Z=JSON.parse(localStorage.getItem("vHomeWidgetSizes"))||{},
D=document.getElementById("dash"),
G=id=>document.getElementById(id),
ST=G("settings");

function T(t){["red","orange","yellow","green","blue","indigo","violet"].forEach(c=>document.body.classList.remove("theme-"+c));document.body.classList.add("theme-"+t)}
G("themeSel").value=S.theme;G("fontSel").value=S.font;document.body.style.fontFamily=S.font;T(S.theme);

["wTime","wCal","wNews","wTasks","wAi","wAndroid"].forEach(k=>G(k).checked=S.widgets[k.replace("w","").toLowerCase()]||0);
G("kidsMode").checked=S.kidsMode||0;

function RIF(){
 let L=G("iframeList");L.innerHTML="";
 S.iframes.forEach((u,i)=>{
  let d=document.createElement("div");
  d.innerHTML=`<span>${u}</span><button data-i="${i}">X</button>`;
  L.appendChild(d)
 });
 L.querySelectorAll("button").forEach(b=>b.onclick=()=>{
  S.iframes.splice(+b.dataset.i,1);
  localStorage.setItem("vHomeSettings",JSON.stringify(S));
  location.reload()
 })
}
RIF();

G("addIframe").onclick=()=>{
 let u=prompt("iFrame URL:");if(!u)return;
 S.iframes.push(u);
 localStorage.setItem("vHomeSettings",JSON.stringify(S));
 location.reload()
};

G("saveBtn").onclick=()=>{
 S.theme=G("themeSel").value;
 S.font=G("fontSel").value;
 S.kidsMode=G("kidsMode").checked?1:0;
 S.widgets={
  time:G("wTime").checked,
  calendar:G("wCal").checked,
  news:G("wNews").checked,
  tasks:G("wTasks").checked,
  aiTips:G("wAi").checked&&!S.kidsMode,
  android:G("wAndroid").checked
 };
 localStorage.setItem("vHomeSettings",JSON.stringify(S));
 location.reload()
};

G("gear").onclick=()=>ST.classList.toggle("hidden");

function W(id,h){
 let w=document.createElement("div");
 w.className="widget";w.id=id;w.innerHTML=h;
 let p=P[id]||{x:200,y:200},s=Z[id]||{w:260,h:200};
 w.style.left=p.x+"px";w.style.top=p.y+"px";
 w.style.width=s.w+"px";w.style.height=s.h+"px";
 DR(w);RS(w);D.appendChild(w);return w
}

function DR(w){
 let m=0,dx,dy;
 w.onmousedown=e=>{
  if(e.target.classList.contains("resize"))return;
  m=1;dx=e.clientX-w.offsetLeft;dy=e.clientY-w.offsetTop;w.style.zIndex=99
 };
 document.onmousemove=e=>{if(m){w.style.left=e.clientX-dx+"px";w.style.top=e.clientY-dy+"px"}};
 document.onmouseup=()=>{if(m){m=0;w.style.zIndex=1;P[w.id]={x:w.offsetLeft,y:w.offsetTop};localStorage.setItem("vHomeWidgetPositions",JSON.stringify(P))}}
}

function RS(w){
 let h=document.createElement("div"),r=0;
 h.className="resize";w.appendChild(h);
 h.onmousedown=e=>{r=1;e.stopPropagation()};
 document.onmousemove=e=>{if(r){w.style.width=Math.max(200,e.clientX-w.offsetLeft)+"px";w.style.height=Math.max(150,e.clientY-w.offsetTop)+"px"}};
 document.onmouseup=()=>{if(r){r=0;Z[w.id]={w:w.offsetWidth,h:w.offsetHeight};localStorage.setItem("vHomeWidgetSizes",JSON.stringify(Z))}}
}

function TM(w){
 let a=w.querySelector(".tm"),b=w.querySelector(".td");
 function U(){
  let d=new Date,h=d.getHours(),m=(""+d.getMinutes()).padStart(2,"0"),ap=h>=12?"PM":"AM";
  h=h%12||12;a.textContent=h+":"+m+" "+ap;
  b.textContent=d.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"})
 }
 U();setInterval(U,1e3)
}

async function NW(w){
 let L=w.querySelector(".nb"),
 F=S.kidsMode?[["NR","https://www.bbc.co.uk/newsround/feeds/rss"],["DOGO","https://www.dogonews.com/feed"]]:
 [["BBC","https://feeds.bbci.co.uk/news/world/rss.xml"],["REU","https://feeds.reuters.com/Reuters/worldNews"],["TC","https://techcrunch.com/feed/"]],
 A=[];
 L.innerHTML="Loading...";
 for(let f of F){
  try{
   let r=await fetch("https://api.rss2json.com/v1/api.json?rss_url="+encodeURIComponent(f[1])),
   j=await r.json();
   (j.items||[]).forEach(x=>A.push({t:x.title,l:x.link,d:x.pubDate,s:f[0]}))
  }catch{}
 }
 A.sort((a,b)=>new Date(b.d)-new Date(a.d));
 L.innerHTML="";
 A.slice(0,20).forEach(n=>{
  let d=document.createElement("div");
  d.className="ni";
  d.innerHTML=`<a href="${n.l}" target="_blank">${n.t}</a><div class="nm">${n.s} • ${new Date(n.d).toLocaleString()}</div>`;
  L.appendChild(d)
 })
}

function TK(w){
 let L=w.querySelector(".tl"),I=w.querySelector(".ti"),B=w.querySelector(".tb"),
 A=JSON.parse(localStorage.getItem("vTasks")||"[]");
 function R(){
  L.innerHTML="";
  A.forEach((t,i)=>{
   let d=document.createElement("div");
   d.innerHTML=`<input type="checkbox" ${t.d?"checked":""}><span>${t.t}</span>`;
   d.querySelector("input").onchange=e=>{
    A[i].d=e.target.checked;localStorage.setItem("vTasks",JSON.stringify(A));R()
   };
   L.appendChild(d)
  })
 }
 R();
 B.onclick=()=>{if(I.value.trim()){A.push({t:I.value,d:0});I.value="";localStorage.setItem("vTasks",JSON.stringify(A));R()}}
}

function AI(w){
 let L=w.querySelector(".ab"),
 T=["Group widgets neatly.","Embed apps with iFrames.","Resize panels freely.","Kids Mode hides advanced items."];
 L.innerHTML=T.map(t=>`<div class="at">${t}</div>`).join("")
}

function AND(w){
 let U="https://appetize.io/embed/b_kyqueia5m6h2xx4cestlaanu3y?device=pixeltablet&launchUrl=exp%3A%2F%2Fu.expo.dev%2F933fd9c0-1666-11e7-afca-d980795c5824%3Fruntime-version%3Dexposdk%253A53.0.0%26channel-name%3Dproduction%26snack%3D%2540viaan_isaac%252Fwemulate%26snack-channel%3DKmYAIEGFje&params=%7B%22EXDevMenuDisableAutoLaunch%22%3Atrue%2C%22EXKernelDisableNuxDefaultsKey%22%3Atrue%7D&appearance=light&deviceColor=black&scale=auto&orientation=portrait&centered=both";
 w.innerHTML=`<div class="android-body"><iframe src="${U}"></iframe></div><div class="resize"></div>`
}

if(S.widgets.time){let w=W("time",`<div class="tm"></div><div class="td"></div><div class="resize"></div>`);TM(w)}
if(S.widgets.calendar){W("cal",`<div class="widget-title">Calendar</div><div>Events...</div><div class="resize"></div>`)}
if(S.widgets.news){let w=W("news",`<div class="widget-title">News</div><div class="nb"></div><div class="resize"></div>`);NW(w)}
if(S.widgets.tasks){let w=W("tasks",`<div class="widget-title">Tasks</div><div class="tl"></div><div class="tasks-add"><input class="ti"><button class="tb">Add</button></div><div class="resize"></div>`);TK(w)}
if(S.widgets.aiTips&&!S.kidsMode){let w=W("ai",`<div class="widget-title">AI Tips</div><div class="ab"></div><div class="resize"></div>`);AI(w)}
if(S.widgets.android){let w=W("android",`<div class="android-body"></div><div class="resize"></div>`);AND(w)}

S.iframes.forEach((u,i)=>W("if"+i,`<div class="iframe-body"><iframe src="${u}"></iframe></div><div class="resize"></div>`));
</script>

</body></html>
