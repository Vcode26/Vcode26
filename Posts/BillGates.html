<!-- Fun Minigames Section -->
<section id="minigames">
  <h2>ğŸ® Bill Gates Minigames</h2>
  <p>Play some fun, silly games inspired by tech history and Microsoft chaos.</p>

  <!-- Game 1: Click Bill -->
  <div class="game" id="click-bill">
    <h3>Click Bill!</h3>
    <p>Click the Bill Gates emoji before it disappears.</p>
    <div id="bill-target">ğŸ§‘â€ğŸ’»</div>
    <p>Score: <span id="bill-score">0</span></p>
  </div>

  <!-- Game 2: Fix the Bug -->
  <div class="game" id="fix-bug">
    <h3>Fix the Bug</h3>
    <p>Drag the bug into the recycle bin before it crashes the page.</p>
    <div class="drag-area">
      <div id="bug" draggable="true">ğŸ</div>
      <div id="bin">ğŸ—‘ï¸</div>
    </div>
    <p id="bug-status"></p>
  </div>

  <!-- Game 3: Build Windows -->
  <div class="game" id="build-windows">
    <h3>Build Windows</h3>
    <p>Stack falling windows without letting them topple.</p>
    <div id="stack-area"></div>
    <p id="stack-status"></p>
  </div>
</section>

<!-- SCRIPT SHOULD BE AFTER ALL ELEMENTS -->
<script>
  // Info button logic
  document.querySelectorAll(".info-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      const targetId = btn.dataset.target;
      document.querySelectorAll(".info-window").forEach(win => {
        win.hidden = win.id !== targetId;
      });
    });
  });

  // Game 1: Click Bill
  const billTarget = document.getElementById("bill-target");
  const billScore = document.getElementById("bill-score");
  let score = 0;

  function moveBill() {
    const x = Math.random() * 300;
    const y = Math.random() * 100;
    billTarget.style.position = "absolute";
    billTarget.style.left = `${x}px`;
    billTarget.style.top = `${y}px`;
  }

  billTarget.addEventListener("click", () => {
    score++;
    billScore.textContent = score;
    moveBill();
  });

  setInterval(moveBill, 1500);

  // Game 2: Fix the Bug
  const bug = document.getElementById("bug");
  const bin = document.getElementById("bin");
  const bugStatus = document.getElementById("bug-status");

  bug.addEventListener("dragstart", e => {
    e.dataTransfer.setData("text/plain", "bug");
  });

  bin.addEventListener("dragover", e => {
    e.preventDefault();
  });

  bin.addEventListener("drop", e => {
    e.preventDefault();
    bugStatus.textContent = "Bug fixed!";
    bug.style.display = "none";
  });

  // Game 3: Build Windows
  const stackArea = document.getElementById("stack-area");
  const stackStatus = document.getElementById("stack-status");
  let blockCount = 0;

  function dropBlock() {
    const block = document.createElement("div");
    block.className = "block";
    block.style.left = `${Math.random() * (stackArea.clientWidth - 50)}px`;
    block.style.top = "0px";
    stackArea.appendChild(block);

    let top = 0;
    const fall = setInterval(() => {
      top += 5;
      block.style.top = `${top}px`;
      if (top >= stackArea.clientHeight - 50) {
        clearInterval(fall);
        blockCount++;
        stackStatus.textContent = `Blocks stacked: ${blockCount}`;
      }
    }, 50);
  }

  setInterval(dropBlock, 2000);
</script>
